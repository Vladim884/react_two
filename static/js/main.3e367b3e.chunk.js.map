{"version":3,"sources":["utils/object_helpers.js","redux/users_reducer.js","image/preloader.gif","api/api.js","components/sideBar/sideBar.module.css","redux/auth_reducer.js","components/header/Header.jsx","components/header/HeaderContainer.jsx","components/news/News.jsx","components/musik/Musik.jsx","components/sideBar/nav/nav.jsx","components/sideBar/my_friends/frend/Frend.jsx","components/sideBar/my_friends/MyFriends.jsx","components/sideBar/my_friends/MyFriendsContainer.jsx","components/sideBar/SideBar.jsx","redux/app_reducer.js","components/login/Login.jsx","redux/sidebar_reducer.js","redux/redux_store.js","components/hoc/WithSuspense.jsx","App.js","serviceWorker.js","index.js","common/FormControl/Formscontrol.js","common/FormControl/formControl.module.css","utils/validators/validators.js","components/header/header.module.css","components/sideBar/my_friends/my_friends.module.css","components/sideBar/my_friends/frend/friend.module.css","common/preloader/preloader.jsx","redux/profile_reducer.js","redux/dialogs_reducer.js"],"names":["updateObjectInArrey","items","itemId","objPropName","newObjProps","map","u","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSucces","userId","type","unfollowSucces","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","requestUsers","page","dispatch","a","userAPI","getUsers","data","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","usersReducer","state","action","followed","filter","id","module","exports","instance","axios","baseURL","withCredentials","headers","get","then","response","post","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logOut","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","Header","props","className","s","header","to","src","width","alt","login_block","onClick","HeaderContainer","this","React","Component","connect","News","Musik","Nav","nav","item","activeClassName","activeLink","Friend","friend","friend_name","name","MyFriends","friends","f","key","my_friends","MyFriendsContainer","sidebarReducer","SideBar","side_bar","initialized","appReducer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createForm","Input","required","formSummaryError","message","messages","length","stopSubmit","_error","formData","require","createStore","combineReducers","applyMiddleware","compose","store","profileReducer","dialogsReducer","formReducer","app","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","thunkMiddleware","_store_","withSuspense","Suspense","fallback","DialogsContainer","lazy","UsersContainer","ProfileContainer","App","initializeApp","path","render","component","Login","AppContainer","withRouter","promise","Promise","all","SamuraiJsApp","StrictMode","getState","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormControl","input","meta","touched","children","hasError","form_control","Textarea","restProps","child","placeholder","validate","text","value","maxLengthCreator","maxlength","Preloader","preloader","initiajState","posts","like","profile","addPostActionCreator","newPostText","getUserProfile","setStatus","idNumber","postId","dialogs","likesCont","addMessageAC","newMessageBody","body"],"mappings":"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","file":"static/js/main.3e367b3e.chunk.js","sourcesContent":["// universal function for reducers\r\n\r\nexport const updateObjectInArrey = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => {\r\n  return items.map((u) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps };\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { userAPI } from \"../api/api\";\r\nimport { updateObjectInArrey } from \"../utils/object_helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = \"TOGGLE_FOLLOWING_IN_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [ ],\r\n  pageSize: 15,\r\n  totalUsersCount: 200,\r\n  currentPage: 38,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArrey(state.users, action.userId, \"id\", {\r\n          followed: true,\r\n        }),\r\n        // users: state.users.map( u =>  {\r\n        //     if (u.id === action.userId) {\r\n        //         return {...u, followed: true}\r\n        //     }\r\n        //     return u;\r\n        // })\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        // users: state.users.map((u) => {\r\n        //   if (u.id === action.userId) {\r\n        //     return { ...u, followed: false };\r\n        //   }\r\n        //   return u;\r\n        // }),\r\n        users: updateObjectInArrey(state.users, action.userId, \"id\", {\r\n            followed: false,\r\n          }),\r\n      };\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users };\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage };\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.count };\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    case TOGGLE_FOLLOWING_IN_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSucces = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSucces = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setUsersTotalCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n  //thunk\r\n  dispatch(toggleIsFetching(true));\r\n  dispatch(setCurrentPage(page));\r\n  const data = await userAPI.getUsers(page, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setUsersTotalCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  //common logic function\r\n  dispatch(toggleFollowingInProgress(true, userId));\r\n  const data = await apiMethod(userId);\r\n  if (data.resultCode == 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingInProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  //thunk\r\n  followUnfollowFlow(\r\n    dispatch,\r\n    userId,\r\n    userAPI.follow.bind(userAPI),\r\n    followSucces\r\n  );\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n  //thunk\r\n  followUnfollowFlow(\r\n    dispatch,\r\n    userId,\r\n    userAPI.unfollow.bind(userAPI),\r\n    unfollowSucces\r\n  );\r\n};\r\n\r\nexport default usersReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/preloader.87b4dede.gif\";","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/', // baseURL - URL - BIG LETTER!\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '5b2048d5-9400-4ed1-8e03-2c104a00de69'// last key\r\n    }\r\n});\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage=38, pageSize=100) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,\r\n        ).then(response => response.data);\r\n      },\r\n    follow(userId){\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unfollow(userId){\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    \r\n    getProfile(userId){\r\n        console.warn('Obsolete method. Please use profileAPI.getProfile')\r\n        return profileAPI.getProfile(userId);\r\n    //     return instance.get(`profile/${userId}`)\r\n    //   .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return instance.get(`profile/${userId}`)\r\n      .then(response => response.data)\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`/profile/status/` + userId);\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`/profile/status/`, {status});\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    me(){\r\n        return instance.get(`auth/me`)\r\n        .then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false){\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logOut(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"side_bar\":\"sideBar_side_bar__goslS\",\"nav\":\"sideBar_nav__3OO_J\",\"item\":\"sideBar_item__29iwf\",\"activeLink\":\"sideBar_activeLink__3bn5I\"};","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        return {\r\n            ...state,\r\n            ...action.payload\r\n        }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA, payload: {id, email, login, isAuth}});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    // .then(data => {\r\n            if (response.resultCode === 0) {\r\n                let {id, login, email} = response.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n        // });\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    \r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    // .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData());\r\n            } else {\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0] : 'some error';\r\n                dispatch(stopSubmit('login', {_error: message}));\r\n            }\r\n        // });\r\n}\r\n\r\nexport const logOut = () => async (dispatch) => {\r\n    let response = await authAPI.logOut();\r\n    // .then(response => {\r\n          debugger;\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false));\r\n            }\r\n        // });\r\n}\r\n\r\nexport default authReducer;\r\n","import React from \"react\";\r\nimport s from \"./header.module.css\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport * as axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { logOut } from \"../../redux/auth_reducer\";\r\n\r\n\r\nconst Header = (props) => {\r\n  \r\n  return (\r\n    <div className={s.header}>\r\n      <header className=\"header\">\r\n        <NavLink to=\"/profile\">\r\n          <img\r\n            src=\"https://images-na.ssl-images-amazon.com/images/I/51Ey3vCle7L.jpg\"\r\n            width=\"3%\"\r\n            alt=\"logo\"\r\n          />\r\n        </NavLink>\r\n          <div className={s.login_block}>\r\n                {props.isAuth \r\n                ? \r\n                  <div>{props.login} \r\n                  <button onClick={props.logOut}\r\n                  >Log Out</button></div>\r\n                \r\n                : <NavLink to={\"/login\"}>Login</NavLink>}\r\n          </div>\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport {logOut} from \"../../redux/auth_reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    \r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.authReducer.isAuth,\r\n    login: state.authReducer.login,\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {logOut})(HeaderContainer);","import React from 'react';\r\n\r\n\r\nconst News = (props) => {\r\n  return (\r\n    <div className=\"dialogs\">\r\n      News\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\n\r\nconst Musik = (props) => {\r\n  return (\r\n    <div>\r\n      Musik\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Musik;","import React from \"react\";\r\nimport s from \"./../sideBar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Nav = (props) => {\r\n  return (\r\n      <nav className={s.nav}>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/profile\" activeClassName={s.activeLink}>\r\n            Profile\r\n          </NavLink>\r\n        </div>\r\n        <div className={`${s.item}`}>\r\n          <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>\r\n            Dialogs\r\n          </NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/news\" activeClassName={s.activeLink}>\r\n            News\r\n          </NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/musik\" activeClassName={s.activeLink}>\r\n            Musik\r\n          </NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/users\" activeClassName={s.activeLink}>\r\n            Users\r\n          </NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <a>Settings</a>\r\n        </div>\r\n      </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React from \"react\";\r\nimport s from \"./friend.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Friend = (props) => {\r\n  return (\r\n    <div className={s.friend}>\r\n      <NavLink to=\"/dialogs\">\r\n        <img src=\"https://nulm.gov.in/images/user.png\" alt=\"user\" width=\"30\" />\r\n      </NavLink>\r\n      <h6 className={s.friend_name}>{props.name}</h6>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friend;\r\n","import React from \"react\";\r\nimport s from \"./my_friends.module.css\";\r\nimport Friend from \"./frend/Frend\";\r\n\r\nconst MyFriends = (props) => {\r\n  let friends = props.friends.map((f) => <Friend name={f.name} key={f.id} />);\r\n  return (\r\n    <div className={s.my_friends}>\r\n      <h5>My friends</h5>\r\n      <div className={s.friends}>{friends}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyFriends;\r\n","// import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport MyFriends from \"./MyFriends\";\r\n\r\nlet mapStateTpProps = (state) => {\r\n  // debugger;\r\n  return {\r\n    friends: state.sidebarReducer.friends\r\n  }\r\n}\r\n\r\nlet MyFriendsContainer = connect(mapStateTpProps)(MyFriends);\r\n\r\nexport default MyFriendsContainer;\r\n","import React from \"react\";\r\nimport s from \"./sideBar.module.css\";\r\nimport Nav from \"./nav/nav\";\r\nimport MyFriendsContainer from \"./my_friends/MyFriendsContainer\";\r\n\r\nconst SideBar = () => {\r\n  return (\r\n    <div className={s.side_bar}>\r\n      <Nav />\r\n      <MyFriendsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { getAuthUserData } from \"./auth_reducer\";\r\n\r\nconst INITIALIZED_SUCCES = 'INITIALIZED_SUCCES';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCES:\r\n        return {\r\n            ...state,\r\n            initialized: true\r\n        }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSucces = () => ({type: INITIALIZED_SUCCES});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n        //   debugger;\r\n                let promise = dispatch(getAuthUserData()); //this dispatch returned promise in auth_reucer\r\n                // promise.then(() => {\r\n                //     dispatch(initializedSucces());\r\n                // });\r\n                //ore object promises:\r\n                Promise.all([promise])\r\n                .then(() => {\r\n                    dispatch(initializedSucces());\r\n                });\r\n                \r\n                \r\n            }\r\n\r\nexport default appReducer;\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { createForm, Input } from \"../../common/FormControl/Formscontrol\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { login, logOut } from \"../../redux/auth_reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport s from '../../common/FormControl/formControl.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n  return (\r\n      <form onSubmit={handleSubmit}>\r\n        {createForm(\"Login\", \"email\", Input, [required])}\r\n        {/* <div>\r\n          <Field placeholder=\"Login\" name=\"email\" component={Input} validate={[required]} />\r\n        </div> */}\r\n        {createForm(\"Password\", \"password\", Input, [required], {type: \"password\"})}\r\n        {/* <div>\r\n          <Field type=\"password\" placeholder=\"Password\" name=\"password\" component={Input} validate={[required]} />\r\n        </div> */}\r\n         {createForm(null, \"rememberMe\", Input, [], {type: \"checkbox\"}, 'Remember me')}\r\n        {/* <div>\r\n          <Field component={Input} name=\"rememberMe\" type=\"checkbox\" /> Remember me\r\n        </div> */}\r\n        <div>\r\n          {error && <div className={s.formSummaryError}>\r\n          {error}</div>}\r\n        </div> \r\n        <div>\r\n        {!error &&  <button>Login</button>}\r\n        </div>\r\n      </form>\r\n  );\r\n};\r\n\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n  }\r\n\r\n  if(props.isAuth){\r\n    debugger;\r\n    return <Redirect to={'/profile'} />\r\n  }\r\n  return (\r\n    <div>\r\n      <h5>Login</h5>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  // a unique name for the form\r\n  form: 'login'\r\n})(LoginForm)\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.authReducer.isAuth\r\n  }\r\n}\r\nexport default connect(mapStateToProps, {login, logOut})(Login) ;\r\n","let initialState = {\r\n    friends: [\r\n        { id: 11, name: \"Kolya\" },\r\n        { id: 12, name: \"Olya\" },\r\n        { id: 13, name: \"Tolya\" },\r\n      ],\r\n}\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    \r\n    return state;\r\n}\r\n\r\nexport  default sidebarReducer;\r\n","import profileReducer from \"./profile_reducer\";\r\nimport dialogsReducer from \"./dialogs_reducer\";\r\nimport sidebarReducer from \"./sidebar_reducer\";\r\nimport usersReducer from \"./users_reducer\";\r\nimport authReducer from './auth_reducer';\r\nimport appReducer from './app_reducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\n\r\n\r\nconst { createStore, combineReducers, applyMiddleware, compose } = require(\"redux\");\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profileReducer,\r\n    dialogsReducer,\r\n    sidebarReducer,\r\n    usersReducer,\r\n    authReducer, \r\n    form: formReducer,\r\n    app: appReducer\r\n\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n  ));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow._store_ = store;\r\n\r\nexport default store;","import React from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n      return <React.Suspense fallback={\r\n    //   <div className=\"preloader\"><Preloader /></div>\r\n    <div>Loading ....</div>\r\n      }>\r\n      <Component {...props} />\r\n    </React.Suspense>\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { BrowserRouter, HashRouter, Route, withRouter } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport HeaderContainer from \"./components/header/HeaderContainer\";\r\nimport News from \"./components/news/News\";\r\nimport Musik from \"./components/musik/Musik\";\r\nimport SideBar from \"./components/sideBar/SideBar\";\r\nimport { initializeApp } from \"./redux/app_reducer\";\r\nimport { connect, Provider } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport Preloader from \"./common/preloader/preloader\";\r\nimport Login from \"./components/login/Login\";\r\nimport store from \"./redux/redux_store\";\r\nimport { withSuspense } from \"./components/hoc/WithSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() =>\r\n  import(\"./components/dialogs/Dialogs_Container\")\r\n);\r\nconst UsersContainer = React.lazy(() =>\r\n  import(\"./components/users/usersContainer\")\r\n);\r\n\r\nconst ProfileContainer = React.lazy(() =>\r\n  import(\"./components/profile/ProfileContainer\")\r\n);\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return (\r\n        <div className=\"preloader\">\r\n          <Preloader />\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"app_wrapper\">\r\n        <HeaderContainer />\r\n        <SideBar state={this.props.state.sidebarReducer} />\r\n        <div className=\"wrapper_content\">\r\n          {/* <Route path=\"/dialogs\" render={() => (\r\n                <DialogsContainer /> )} /> */}\r\n          <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\r\n          <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} />\r\n          <Route path=\"/users\" render={withSuspense(UsersContainer)} />\r\n          <Route path=\"/news\" component={News} />\r\n          <Route path=\"/musik\" component={Musik} />\r\n          <Route path=\"/login\" component={Login} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.app.initialized,\r\n  };\r\n};\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp })\r\n)(App);\r\n\r\nconst SamuraiJsApp = (props) => {\r\n  return (\r\n    <React.StrictMode> \r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <AppContainer\r\n          state={store.getState()}\r\n          dispatch={store.dispatch.bind(store)}\r\n        />\r\n      </Provider>\r\n    </HashRouter>\r\n    </React.StrictMode>\r\n  );\r\n};\r\n\r\nexport default SamuraiJsApp;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport store from './redux/redux_store'\r\nimport { Provider } from \"react-redux\";\r\nimport SamuraiJsApp from \"./App\";\r\n\r\n  ReactDOM.render(\r\n    <SamuraiJsApp />,\r\n    document.getElementById(\"root\")\r\n  );\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport s from \"./formControl.module.css\";\r\n\r\nexport const FormControl = ({ input, meta: {touched, error}, children }) => {\r\n  // method rest: divided into parts\r\n  // debugger;\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={s.form_control + \" \" + (hasError && s.error)}>\r\n      <div>{children}</div>\r\n      {hasError && <span className={s.form_control}>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const createForm = (placeholder, name, component, validate, props={}, text='') => \r\n<div><Field placeholder={placeholder} name={name} component={component} validate={validate} {...props} />\r\n{text}</div>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"formControl_form_control__3403J\",\"error\":\"formControl_error__MbGb1\",\"formSummaryError\":\"formControl_formSummaryError__9f-Ab\"};","export const required = (value) => {\r\n    if(value) return undefined;\r\n    return 'field is requared';\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxlength) => (value) => {\r\n    if(value && value.length > maxlength) return `max length is ${maxlength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3t1dB\",\"login_block\":\"header_login_block__3zdQb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"my_friends\":\"my_friends_my_friends__g1Amj\",\"friends\":\"my_friends_friends__26HM1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend_name\":\"friend_friend_name__3RaaR\"};","import React from 'react';\r\nimport preloader from '../../image/preloader.gif'\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div>\r\n      <img src={preloader} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader\r\n","import { userAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD_POST\";\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n\r\n\r\nlet initiajState = {\r\n  posts: [\r\n    { id: 1, message: \"Hello!\", like: 3 },\r\n    { id: 2, message: \"Hi! How are yiu?\", like: 5 },\r\n    { id: 3, message: \"Hello my dear frends!\", like: 13 },\r\n    { id: 4, message: \"Hi! How do yiu do?\", like: 5 },\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n};\r\n\r\nconst profileReducer = (state = initiajState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let idNumber = state.posts.length + 1;\r\n      return {\r\n        ...state,\r\n        posts: [\r\n          ...state.posts,\r\n          {\r\n            id: idNumber,\r\n            message: action.newPostText,\r\n            like: 0,\r\n          },\r\n        ],\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(post => post.id != action.postId)\r\n      }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const deletePostActionCreator = (postId) => ({ type: DELETE_POST, postId });\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const getUserProfile = (userId) => async (dispatch) => { //thunk\r\n  const data = await userAPI.getProfile(userId);\r\n      dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const getStatus = (userId) => async (dispatch) => { //thunk\r\n  const response = await profileAPI.getStatus(userId);\r\n      dispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => { //thunk\r\n  const response = await profileAPI.updateStatus(status);\r\n      if(response.data.resultCode === 0){\r\n         dispatch(setStatus(status));\r\n      };\r\n}\r\n\r\nexport default profileReducer;\r\n","const ADD_MESSAGE = 'ADD_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: \"Dima\" },\r\n        { id: 2, name: \"Sasha\" },\r\n        { id: 3, name: \"Lena\" },\r\n        { id: 4, name: \"Misha\" },\r\n        { id: 5, name: \"Olya\" },\r\n        { id: 6, name: \"Vasya\" },\r\n      ],\r\n      messages: [\r\n        { id: 7, message: \"Hi!\", likesCont: 12 },\r\n        { id: 8, message: \"How are you?\", likesCont: 15 },\r\n        { id: 9, message: \"WELL!!\", likesCont: 20 },\r\n      ],\r\n}\r\n\r\nexport const dialogsReducer = (state=initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let idNumber = state.messages.length + 1;\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: idNumber, message: body, likesCont: 0}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const addMessageAC = (newMessageBody) => ({type: ADD_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;\r\n\r\n"],"sourceRoot":""}